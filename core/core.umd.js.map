{"version":3,"file":"core.umd.js","sources":["../src/js/services/mapbox.service.js","../src/js/components/mapbox.component.js","../src/js/components/mapboxMarker.component.js","../src/js/components/mapboxMarkerDirection.component.js","../src/js/mapbox.module.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { Injectable, Inject } from '@angular/core';\r\nimport * as mapbox from 'mapbox-gl';\r\nexport let MapBoxService = class MapBoxService {\r\n    constructor(_config) {\r\n        if (_config)\r\n            this.accessToken = _config;\r\n    }\r\n    Map(options) {\r\n        this.assign(mapbox, \"accessToken\", this.accessToken);\r\n        this.map = new mapbox.Map(options);\r\n        this.map.addControl(new mapbox.NavigationControl());\r\n        this.map.addControl(new mapbox.GeolocateControl());\r\n        return true;\r\n    }\r\n    Marker(el, options, coordinates) {\r\n        var _self = this;\r\n        setTimeout(function () {\r\n            new mapbox.Marker(el, options)\r\n                .setLngLat(coordinates)\r\n                .addTo(_self.map);\r\n        }, 100);\r\n    }\r\n    flyTo(coordinates, zoom) {\r\n        var _self = this;\r\n        setTimeout(function () {\r\n            _self.map.flyTo({ center: coordinates, zoom: zoom });\r\n        }, 100);\r\n    }\r\n    prevMarker() {\r\n        console.log(this.map);\r\n    }\r\n    nextMarker() {\r\n        console.log(this.map);\r\n    }\r\n    assign(obj, prop, value) {\r\n        if (typeof prop === \"string\")\r\n            prop = prop.split(\".\");\r\n        if (prop.length > 1) {\r\n            var e = prop.shift();\r\n            this.assign(obj[e] =\r\n                Object.prototype.toString.call(obj[e]) === \"[object Object]\"\r\n                    ? obj[e]\r\n                    : {}, prop, value);\r\n        }\r\n        else\r\n            obj[prop[0]] = value;\r\n    }\r\n};\r\nMapBoxService = __decorate([\r\n    Injectable(),\r\n    __param(0, Inject('MAPBOX_KEY')), \r\n    __metadata('design:paramtypes', [String])\r\n], MapBoxService);\r\n//# sourceMappingURL=mapbox.service.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { Component, Inject, Output, EventEmitter } from '@angular/core';\r\nimport { MapBoxService } from '../services/mapbox.service';\r\nexport let MapBoxComponent = class MapBoxComponent {\r\n    constructor(_mapBoxService) {\r\n        this._mapBoxService = _mapBoxService;\r\n        this.state = new EventEmitter();\r\n        this.style = 'mapbox://styles/mapbox/streets-v9';\r\n        this.center = [-5.646973, 52.087483];\r\n        this.zoom = 6;\r\n        this.hash = false;\r\n        this.index = 0;\r\n    }\r\n    ngOnInit() {\r\n        var _self = this;\r\n        setTimeout(function () {\r\n            _self._mapBoxService.Map({\r\n                container: 'map' + _self.index,\r\n                style: _self.style,\r\n                center: _self.center,\r\n                zoom: _self.zoom,\r\n                hash: _self.hash\r\n            });\r\n            _self.state.emit(\"Loaded\");\r\n        }, 100);\r\n    }\r\n};\r\n__decorate([\r\n    Output(), \r\n    __metadata('design:type', Object)\r\n], MapBoxComponent.prototype, \"state\", void 0);\r\nMapBoxComponent = __decorate([\r\n    Component({\r\n        selector: 'mapbox',\r\n        template: `\r\n      <div style=\"position: relative; overflow: hidden;\">\r\n        <div [attr.id]=\"'map' + index\" style=\"min-height: 500px;\"></div>\r\n        <ng-content></ng-content>\r\n      </div>\r\n    `,\r\n        inputs: ['style', 'center', 'zoom', 'hash', 'index'],\r\n        providers: [MapBoxService]\r\n    }),\r\n    __param(0, Inject(MapBoxService)), \r\n    __metadata('design:paramtypes', [MapBoxService])\r\n], MapBoxComponent);\r\n//# sourceMappingURL=mapbox.component.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { Directive, Inject, Output, EventEmitter } from '@angular/core';\r\nimport { MapBoxService } from '../services/mapbox.service';\r\nexport let MapBoxMarkerDirective = class MapBoxMarkerDirective {\r\n    constructor(_mapBoxService) {\r\n        this._mapBoxService = _mapBoxService;\r\n        this.width = 60;\r\n        this.height = 60;\r\n        this.click = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        var _self = this;\r\n        var el = document.createElement('div');\r\n        el.className = 'marker';\r\n        el.style.backgroundImage = 'url(' + this.image + ')';\r\n        el.style.backgroundSize = 'cover';\r\n        el.style.backgroundRepeat = 'no-repeat';\r\n        el.style.width = this.width + 'px';\r\n        el.style.height = this.height + 'px';\r\n        this._mapBoxService.Marker(el, // element\r\n        { offset: [-this.width / 2, -this.height / 2] }, // options\r\n        this.coordinates // coordinates\r\n        );\r\n        el.addEventListener(\"click\", function () {\r\n            if (_self.flyTo) {\r\n                _self._mapBoxService.flyTo(_self.coordinates, _self.flyTo);\r\n            }\r\n            _self.click.emit({\r\n                data: _self.data,\r\n                coordinates: _self.coordinates\r\n            });\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    Output(), \r\n    __metadata('design:type', Object)\r\n], MapBoxMarkerDirective.prototype, \"click\", void 0);\r\nMapBoxMarkerDirective = __decorate([\r\n    Directive({\r\n        selector: 'mapbox-marker',\r\n        inputs: ['image', 'width', 'height', 'coordinates', 'click', 'data', 'flyTo']\r\n    }),\r\n    __param(0, Inject(MapBoxService)), \r\n    __metadata('design:paramtypes', [MapBoxService])\r\n], MapBoxMarkerDirective);\r\n//# sourceMappingURL=mapboxMarker.component.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { Component, Inject } from '@angular/core';\r\nimport { MapBoxService } from '../services/mapbox.service';\r\nexport let MapBoxMarkerDirectionComponent = class MapBoxMarkerDirectionComponent {\r\n    constructor(_mapBoxService) {\r\n        this._mapBoxService = _mapBoxService;\r\n        this.direction = \"next\";\r\n    }\r\n    action() {\r\n        if (this.direction === \"next\") {\r\n            this._mapBoxService.nextMarker();\r\n        }\r\n        else {\r\n            this._mapBoxService.prevMarker();\r\n        }\r\n    }\r\n};\r\nMapBoxMarkerDirectionComponent = __decorate([\r\n    Component({\r\n        selector: 'mapbox-marker-direction',\r\n        template: `\r\n      <a (click)=\"action()\">\r\n        <ng-content></ng-content>\r\n      </a>\r\n    `,\r\n        inputs: ['direction'],\r\n        providers: [MapBoxService]\r\n    }),\r\n    __param(0, Inject(MapBoxService)), \r\n    __metadata('design:paramtypes', [MapBoxService])\r\n], MapBoxMarkerDirectionComponent);\r\n//# sourceMappingURL=mapboxMarkerDirection.component.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { NgModule } from '@angular/core';\r\nimport { MapBoxComponent } from './components/mapbox.component';\r\nimport { MapBoxMarkerDirective } from './components/mapboxMarker.component';\r\nimport { MapBoxMarkerDirectionComponent } from './components/mapboxMarkerDirection.component';\r\n/*\r\n *\r\n * @NgModule\r\n *\r\n * The @NgModule decorator defines the metadata for the module.\r\n *\r\n * We'll take an intuitive approach to understanding the metadata and fill in details as we go.\r\n *\r\n */\r\nlet MapBoxModule_1 = class MapBoxModule {\r\n    static forRoot(config) {\r\n        return {\r\n            ngModule: MapBoxModule_1,\r\n            providers: [\r\n                { provide: 'MAPBOX_KEY', useValue: config }\r\n            ]\r\n        };\r\n    }\r\n};\r\nexport let MapBoxModule = MapBoxModule_1;\r\nMapBoxModule = MapBoxModule_1 = __decorate([\r\n    NgModule({\r\n        exports: [\r\n            MapBoxComponent,\r\n            MapBoxMarkerDirective,\r\n            MapBoxMarkerDirectionComponent\r\n        ],\r\n        declarations: [\r\n            MapBoxComponent,\r\n            MapBoxMarkerDirective,\r\n            MapBoxMarkerDirectionComponent\r\n        ]\r\n    }), \r\n    __metadata('design:paramtypes', [])\r\n], MapBoxModule);\r\n//# sourceMappingURL=mapbox.module.js.map"],"names":["__decorate","this","__metadata","__param","MapBoxService","mapbox.Map","mapbox.NavigationControl","mapbox.GeolocateControl","mapbox.Marker","Injectable","Inject","MapBoxComponent","EventEmitter","Output","Component","MapBoxMarkerDirective","Directive","MapBoxModule","NgModule"],"mappings":"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"}